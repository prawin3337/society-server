"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8646],{5462:(P,g,n)=>{n.d(g,{x:()=>b});var r=n(9212),v=n(2371);let b=(()=>{var d;class t{constructor(u,f){this.elementRef=u,this.memberService=f}ngOnInit(){"admin"!==this.memberService.getUserInfo().type&&(this.elementRef.nativeElement.style.display="none")}}return(d=t).\u0275fac=function(u){return new(u||d)(r.Y36(r.SBq),r.Y36(v.n))},d.\u0275dir=r.lG2({type:d,selectors:[["","authDirective",""]],standalone:!0}),t})()},8646:(P,g,n)=>{n.r(g),n.d(g,{LandingPageModule:()=>x});var r=n(6728),v=n(6814),b=n(6223),d=n(26),t=n(9212),y=n(5462),u=n(2371);let f=(()=>{var e;class s{set dashboarName(a){this._dashboarName=a}constructor(a){this.memberService=a,this._dashboarName="",this.userInfo={}}ngOnInit(){this.userInfo=this.memberService.getUserInfo()}}return(e=s).\u0275fac=function(a){return new(a||e)(t.Y36(u.n))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-header"]],inputs:{dashboarName:"dashboarName"},standalone:!0,features:[t.jDz],decls:8,vars:3,consts:[[3,"translucent"],["alt","society logo","src","../../../assets/cropped-Society-logo.png",2,"height","20px","width","20px"],[1,"float-end"],[1,"bi","bi-person-circle"]],template:function(a,i){1&a&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),t._UZ(3,"img",1),t._uU(4),t.TgZ(5,"span",2),t._UZ(6,"i",3),t._uU(7),t.qZA()()()()),2&a&&(t.Q6J("translucent",!0),t.xp6(4),t.hij(" ",i._dashboarName," "),t.xp6(3),t.hij(" ",i.userInfo.userId," "))},dependencies:[r.Pc,r.Gu,r.wd,r.sr]}),s})();function A(e,s){if(1&e&&(t.TgZ(0,"ion-tab-button",3),t._UZ(1,"ion-icon",4),t.TgZ(2,"ion-label"),t._uU(3),t.qZA()()),2&e){const o=t.oxw().$implicit;t.s9C("tab",o.tapId),t.s9C("href",o.url),t.xp6(1),t.s9C("name",o.icon),t.xp6(2),t.Oqu(o.label)}}function S(e,s){if(1&e&&(t.TgZ(0,"ion-tab-button",5),t._UZ(1,"ion-icon",4),t.TgZ(2,"ion-label"),t._uU(3),t.qZA()()),2&e){const o=t.oxw().$implicit;t.s9C("tab",o.tapId),t.s9C("href",o.url),t.xp6(1),t.s9C("name",o.icon),t.xp6(2),t.Oqu(o.label)}}function I(e,s){1&e&&t.YNc(0,A,4,4,"ion-tab-button",3)(1,S,4,4),2&e&&t.um2(0,"reports"===s.$implicit.tapId?0:1)}let Z=(()=>{var e;class s{constructor(){this.taps=[{tapId:"user-dashboard",label:"User Dashboard",url:"/society/user-dashboard",icon:"podium"},{tapId:"dashboard",label:"Society Dashboard",url:"/society/dashboard",icon:"analytics"},{tapId:"reports",label:"Reports",url:"/society/reports",icon:"document"},{tapId:"settings",label:"Settings",url:"/society/settings",icon:"settings"}],this.dashboarName=this.taps[0].label}onTabSelect(a){const i=this.taps.find(({tapId:l})=>l==a.tab)||this.taps[0];this.dashboarName=i.label}}return(e=s).\u0275fac=function(a){return new(a||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-tabs"]],decls:6,vars:1,consts:[[3,"dashboarName"],[3,"ionTabsDidChange"],["slot","bottom"],["authDirective","",3,"tab","href"],[3,"name"],[3,"tab","href"]],template:function(a,i){1&a&&(t._UZ(0,"app-header",0),t.TgZ(1,"ion-content")(2,"ion-tabs",1),t.NdJ("ionTabsDidChange",function(c){return i.onTabSelect(c)}),t.TgZ(3,"ion-tab-bar",2),t.SjG(4,I,2,1,null,null,t.x6l),t.qZA()()()),2&a&&(t.Q6J("dashboarName",i.dashboarName),t.xp6(4),t.wJu(i.taps))},dependencies:[r.W2,r.gu,r.Q$,r.yq,r.ZU,r.UN,y.x,f]}),s})();var T=n(5861),m=n(2207),L=n(709);let C=(()=>{var e;class s{constructor(a,i,l,c,p){this.authService=a,this.router=i,this.tokenService=l,this.alertController=c,this.memberService=p}presentAlert(){var a=this;return(0,T.Z)(function*(){yield(yield a.alertController.create({header:"Session expired...",subHeader:"Redirecting to login page.",message:"Please relogin to continue.",buttons:["OK"]})).present()})()}canActivate(a,i){var l=this;return new Promise(c=>{this.authService.verifyAuthToken().then(function(){var p=(0,T.Z)(function*(h){h||(l.tokenService.deleteToken([m.H.AuthToke,m.H.userInfo]),yield l.presentAlert(),l.router.navigateByUrl("login")),c(h)});return function(h){return p.apply(this,arguments)}}())})}canActivateChild(a,i){var l=this;return new Promise(function(){var c=(0,T.Z)(function*(p){let h=l.tokenService.tokenAvailable(m.H.AuthToke);h||(l.tokenService.deleteToken([m.H.AuthToke,m.H.userInfo]),yield l.presentAlert(),l.router.navigateByUrl("login")),a.url.length>0&&"reports"===a.url[0].path&&(h="admin"===l.memberService.getUserInfo().type),p(h)});return function(p){return c.apply(this,arguments)}}())}canDeactivate(a,i,l,c){return!0}canMatch(a,i){return!0}canLoad(a,i){return!0}}return(e=s).\u0275fac=function(a){return new(a||e)(t.LFG(L.e),t.LFG(d.F0),t.LFG(m.B),t.LFG(r.Br),t.LFG(u.n))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),s})();const U=[{path:"",component:Z,canActivate:(0,d.BJ)([C]),canActivateChild:(0,d.gP)([C]),children:[{path:"dashboard",loadChildren:()=>Promise.all([n.e(5195),n.e(5299),n.e(7208)]).then(n.bind(n,7208)).then(e=>e.DashboardPageModule)},{path:"user-dashboard",loadChildren:()=>Promise.all([n.e(5195),n.e(5299),n.e(6970)]).then(n.bind(n,6970)).then(e=>e.UserDashboardModule)},{path:"settings",loadChildren:()=>n.e(2925).then(n.bind(n,2925)).then(e=>e.SettingsModule)},{path:"reports",loadChildren:()=>n.e(373).then(n.bind(n,373)).then(e=>e.ReportsModule)},{path:"",redirectTo:"/society/user-dashboard",pathMatch:"full"}]},{path:"",redirectTo:"/society/user-dashboard",pathMatch:"full"}];let D=(()=>{var e;class s{}return(e=s).\u0275fac=function(a){return new(a||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[d.Bz.forChild(U)]}),s})();var M=n(2200);let x=(()=>{var e;class s{}return(e=s).\u0275fac=function(a){return new(a||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[r.Pc,v.ez,b.u5,D,M.j,f]}),s})()}}]);