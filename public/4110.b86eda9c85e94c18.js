"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4110],{9856:(I,p,n)=>{n.d(p,{k:()=>b});var s=n(4438),v=n(3712);let b=(()=>{var d;class t{constructor(c,f){this.elementRef=c,this.memberService=f}ngOnInit(){"admin"!==this.memberService.getUserInfo().type&&(this.elementRef.nativeElement.style.display="none")}}return(d=t).\u0275fac=function(c){return new(c||d)(s.rXU(s.aKT),s.rXU(v.G))},d.\u0275dir=s.FsC({type:d,selectors:[["","authDirective",""]],standalone:!0}),t})()},4110:(I,p,n)=>{n.r(p),n.d(p,{LandingPageModule:()=>G});var s=n(3709),v=n(177),b=n(9417),d=n(3331),t=n(4438),y=n(9856),c=n(3712);let f=(()=>{var e;class r{set dashboarName(a){this._dashboarName=a}constructor(a){this.memberService=a,this._dashboarName="",this.userInfo={}}ngOnInit(){this.userInfo=this.memberService.getUserInfo()}}return(e=r).\u0275fac=function(a){return new(a||e)(t.rXU(c.G))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-header"]],inputs:{dashboarName:"dashboarName"},standalone:!0,features:[t.aNF],decls:8,vars:3,consts:[[3,"translucent"],["alt","society logo","src","../../../assets/cropped-Society-logo.png",2,"height","20px","width","20px"],[1,"float-end"],[1,"bi","bi-person-circle"]],template:function(a,i){1&a&&(t.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),t.nrm(3,"img",1),t.EFF(4),t.j41(5,"span",2),t.nrm(6,"i",3),t.EFF(7),t.k0s()()()()),2&a&&(t.Y8G("translucent",!0),t.R7$(4),t.SpI(" ",i._dashboarName," "),t.R7$(3),t.SpI(" ",i.userInfo.userId," "))},dependencies:[s.bv,s.eU,s.BC,s.ai]}),r})();function C(e,r){if(1&e&&(t.j41(0,"ion-tab-button",3),t.nrm(1,"ion-icon",5),t.j41(2,"ion-label"),t.EFF(3),t.k0s()()),2&e){const o=t.XpG().$implicit;t.FS9("tab",o.tapId),t.FS9("href",o.url),t.R7$(),t.FS9("name",o.icon),t.R7$(2),t.JRh(o.label)}}function D(e,r){if(1&e&&(t.j41(0,"ion-tab-button",4),t.nrm(1,"ion-icon",5),t.j41(2,"ion-label"),t.EFF(3),t.k0s()()),2&e){const o=t.XpG().$implicit;t.FS9("tab",o.tapId),t.FS9("href",o.url),t.R7$(),t.FS9("name",o.icon),t.R7$(2),t.JRh(o.label)}}function T(e,r){1&e&&t.DNE(0,C,4,4,"ion-tab-button",3)(1,D,4,4,"ion-tab-button",4),2&e&&t.vxM("reports"===r.$implicit.tapId?0:1)}let A=(()=>{var e;class r{constructor(){this.taps=[{tapId:"user-dashboard",label:"User Dashboard",url:"/society/user-dashboard",icon:"podium"},{tapId:"dashboard",label:"Society Dashboard",url:"/society/dashboard",icon:"analytics"},{tapId:"reports",label:"Reports",url:"/society/reports",icon:"document"},{tapId:"settings",label:"Settings",url:"/society/settings",icon:"settings"}],this.dashboarName=this.taps[0].label}onTabSelect(a){const i=this.taps.find(({tapId:l})=>l==a.tab)||this.taps[0];this.dashboarName=i.label}}return(e=r).\u0275fac=function(a){return new(a||e)},e.\u0275cmp=t.VBU({type:e,selectors:[["app-tabs"]],decls:6,vars:1,consts:[[3,"dashboarName"],[3,"ionTabsDidChange"],["slot","bottom"],["authDirective","",3,"tab","href"],[3,"tab","href"],[3,"name"]],template:function(a,i){1&a&&(t.nrm(0,"app-header",0),t.j41(1,"ion-content")(2,"ion-tabs",1),t.bIt("ionTabsDidChange",function(u){return i.onTabSelect(u)}),t.j41(3,"ion-tab-bar",2),t.Z7z(4,T,2,1,null,null,t.fX1),t.k0s()()()),2&a&&(t.Y8G("dashboarName",i.dashboarName),t.R7$(4),t.Dyx(i.taps))},dependencies:[s.W9,s.iq,s.he,s.Jq,s.qW,s.p4,y.k,f]}),r})();var P=n(467),m=n(3597),F=n(7809);let S=(()=>{var e;class r{constructor(a,i,l,u,g){this.authService=a,this.router=i,this.tokenService=l,this.alertController=u,this.memberService=g}presentAlert(){var a=this;return(0,P.A)(function*(){yield(yield a.alertController.create({header:"Session expired...",subHeader:"Redirecting to login page.",message:"Please relogin to continue.",buttons:["OK"]})).present()})()}canActivate(a,i){var l=this;return new Promise(u=>{this.authService.verifyAuthToken().then(function(){var g=(0,P.A)(function*(h){h||(l.tokenService.deleteToken([m.D.AuthToke,m.D.userInfo]),yield l.presentAlert(),l.router.navigateByUrl("login")),u(h)});return function(h){return g.apply(this,arguments)}}())})}canActivateChild(a,i){var l=this;return new Promise(function(){var u=(0,P.A)(function*(g){let h=l.tokenService.tokenAvailable(m.D.AuthToke);h||(l.tokenService.deleteToken([m.D.AuthToke,m.D.userInfo]),yield l.presentAlert(),l.router.navigateByUrl("login")),a.url.length>0&&"reports"===a.url[0].path&&(h="admin"===l.memberService.getUserInfo().type),g(h)});return function(g){return u.apply(this,arguments)}}())}canDeactivate(a,i,l,u){return!0}canMatch(a,i){return!0}canLoad(a,i){return!0}}return(e=r).\u0275fac=function(a){return new(a||e)(t.KVO(F.u),t.KVO(d.Ix),t.KVO(m.B),t.KVO(s.hG),t.KVO(c.G))},e.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"}),r})();const M=[{path:"",component:A,canActivate:(0,d.lv)([S]),canActivateChild:(0,d.no)([S]),children:[{path:"dashboard",loadChildren:()=>Promise.all([n.e(5596),n.e(8387),n.e(2076),n.e(3017)]).then(n.bind(n,3017)).then(e=>e.DashboardPageModule)},{path:"user-dashboard",loadChildren:()=>Promise.all([n.e(5596),n.e(8387),n.e(651)]).then(n.bind(n,651)).then(e=>e.UserDashboardModule)},{path:"settings",loadChildren:()=>n.e(5086).then(n.bind(n,5086)).then(e=>e.SettingsModule)},{path:"reports",loadChildren:()=>Promise.all([n.e(2076),n.e(2320)]).then(n.bind(n,2320)).then(e=>e.ReportsModule)},{path:"",redirectTo:"user-dashboard",pathMatch:"full"}]},{path:"",redirectTo:"/society/user-dashboard",pathMatch:"full"}];let R=(()=>{var e;class r{}return(e=r).\u0275fac=function(a){return new(a||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({imports:[d.iI.forChild(M)]}),r})();var L=n(9772);let G=(()=>{var e;class r{}return(e=r).\u0275fac=function(a){return new(a||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({imports:[s.bv,v.MD,b.YN,R,L.h,f]}),r})()}}]);